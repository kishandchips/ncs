!function(e){window.main={init:function(){e("a[href^=#].scroll-to-btn").click(function(){var n=e(e(this).attr("href")),t=0!=n.length?n.offset().top:0;return e("html,body").animate({scrollTop:t},"slow"),!1}),e("#footer .carousel").clone().appendTo("#menu-secondary-header-nav .news .sub-menu"),e("#menu-secondary-header-nav .news .sub-menu li").wrapAll("<div class='nav' />"),e.fn.simpleSlider=function(n){var t={navigation:!0,prevText:"Prev",nextText:"Next",pagination:!0,autoplay:!1,delay:8e3,speed:500,numItems:1},n=e.extend(t,n),i=function(e,n,t){e.animate({marginLeft:-n+"%",marginTop:0},{queue:!1,duration:optionss.speed})};return this.each(function(){var t=n,a=e(this),s=a.children("div"),r=s.eq(0),o=0,h=s.width(),l=s.parent().width(),c=100*h/l/s.length,d=parseInt(t.numItems>s.length||t.numItems<1?s.length:t.numItems),u=100/d*h/l;if(s.addClass("slide").css({width:c+"%"}),a.css({width:100/d*s.length+"%"}),t.navigation&&s.length>1){var p=e("<a/>",{href:"#",html:t.prevText}).addClass("prev nav icons-arrow-left"),g=e("<a/>",{href:"#",html:t.nextText}).addClass("next nav icons-arrow-right");a.parent().parent().prepend(p),a.parent().parent().append(g),p.bind("click",function(e){0>=o?o=u*(s.length-d):o-=u,i(a,o,t),e.preventDefault()}),g.bind("click",function(e){o>=u*(s.length-d)?o=0:o+=u,i(a,o,t),e.preventDefault()})}if(t.pagination&&s.length>1){var f=e(document.createElement("div"));f.attr("class","carousel-index"),s.each(function(n){var t=e("<a/>",{href:"#",html:n+1}).addClass("slide-index slide-"+(n+1));f.append(t)}),a.parent().after(f),f.find("a").bind("click",function(n){var r=e(this).index()+1,h=s.length%2==0?1:0,l=d%2==0?0:.5;d>1?1==r||d/2-h-l>=r?o=0:r>d/2-l&&r<s.length-(d/2-1-l)?o=u*(r-d/2-l):r>=s.length&&(o=u*(r-d)):o=1==r?0:u*(r-d),f.find("a").not(e(this)).removeClass("clic"),e(this).addClass("clic"),i(a,o,t),n.preventDefault()})}t.autoplay&&s.length>1&&window.setInterval(function(){o>=u*(s.length-d)?o=0:o+=u,i(a,o,t)},t.delay)})},e(window).resize(this.resize)},loaded:function(){this.setBoxSizing(),e.fn.simpleSlider&&e(".news-slider").simpleSlider({navigation:!0,prevText:"",nextText:"",pagination:!1,autoplay:!1,speed:500,numItems:2})},equalHeight:function(){if(0!==e(".equal-height").length){var n=0,t=0,a=new Array,s=0;e(".equal-height").each(function(){var r=e(this);if(s=r.offset().top,r.height("auto"),t!=s){for(i=0;i<a.length;i++)a[i].height(n);a.length=0,t=s,n=r.height(),a.push(r)}else a.push(r),n=n<r.height()?r.height():n;for(i=0;i<a.length;i++)a[i].height(n)})}},containerHeight:function(){var n=Math.max(e("#sidebar").outerHeight(!0),e("#content").outerHeight(!0));e("#page, #sidebar, #content").height(n)},productNav:function(){var n=e("#sidebar ul.product-categories"),t=e(".cat-parent",n),i=e(".current-cat, .current-cat-parent",n);e.each(t,function(){e(this).prepend("<span></span>")});var a=e("span",t);a.click(function(){e(this).toggleClass("open"),e(this).nextAll("ul.children").first().slideToggle(200)}),t.hasClass("current-cat")&&e.each(i,function(){e("span",this).first().addClass("open"),e(".children",this).first().show()})},setBoxSizing:function(){e("html").hasClass("no-boxsizing")&&e(".span:visible").each(function(){console.log(e(this).attr("class"));var n=e(this),t=n.outerWidth(),i=n.width(),a=t-i,s=i-a;n.css("width",s)})},resize:function(){main.equalHeight(),e(window).width()<900&&main.containerHeight()}},e(function(){main.init()}),e(window).load(function(){main.loaded(),main.equalHeight(),main.productNav(),main.containerHeight(),e(window).width()<900})}(jQuery);